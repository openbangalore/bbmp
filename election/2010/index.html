<!DOCTYPE html>
<html>
<!-----------------------------------------------------------------------
Coded by Thejesh GN http://thejeshgn.com 
Data Analysis and Support
Uthara
Vandana
Anamika
Asim
Sasank
GIS Interns at ij. 
------------------------------------------------------------------------->

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<META NAME='DESCRIPTION' CONTENT='BBMP election results for 2010 with analysis'>
	<META NAME='KEYWORDS' CONTENT='bbmp, elections, vote4bbmp, 2011'>
	<title>BBMP Election Results for 2010</title>
	

	
	<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.css">
	
	<script src="//code.jquery.com/jquery-1.11.1.min.js" ></script>
	<script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js" ></script>
	<script src="//cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.js" ></script>
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
	<script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
	
	<script type="text/javascript" src="./wards.js"></script>
	<style>
		body { font-size: 140%;  }
		#map { height: 500px; }
	</style>
	<script>
		var map;
		my_wards = ward_b["features"];
		
		$(document).ready(function() {
		map = L.map('map').setView([12.976549,77.594397], 11);

		
		L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

		
		function style(feature) {
			return {
				weight: 2,
				opacity: 0.7,
				color: '#800026',
				dashArray: '1',
				fillOpacity: 0.1,
				//fillColor: getColor(feature.properties.WARD_NO)
				fillColor:'#FFEDA0'
			};
		}
		
		function onEachFeature(feature, layer) {
			layer.on({
				//mouseover: highlightFeature,
				//mouseout: resetHighlight,
				//click: zoomToFeature
			});
		}
		
		geojson = L.geoJson(ward_b, {
			style: style,
			onEachFeature: onEachFeature
		}).addTo(map);
		
		
		$('#results_table').dataTable( {
				"ajax": "./results.js",
				 "dom": 'C<"clear">lfrtip',
				 "pageLength": 10,
				"columns": [
					{ "data": "Ward_No" },
					{ "data": "Ward_Name" },
					{ "data": "Reservation" },
					{ "data": "Woman" },
					{ "data": "Voters" },
					{ "data": "Votes_casted" },
					{ "data": "Voter_turnout_calc" },
					
					{ "data": "Winning_Candidate_Name" },
					{ "data": "Gender" },
					{ "data": "Winning_Party" },
					{ "data": "Winning_Votes" }
				],
/*				"fnRowCallback": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {
								
								switch(aData["Winning_Party"]){
									case 'BJP':
										$(nRow).css('background-color', '#ff9999')
										break;
									case 'INC':
										$(nRow).css('background-color', '#72c398')
										break;
									case 'JD(S)':
										$(nRow).css('background-color', '#afd9ee')
										break;
									default:
										$(nRow).css('background-color', '#f7ecb5')
								}
				}
*/				
				"columnDefs": [ {
				"targets": 9,
				"data": "Winning_Party",
				"render": function ( data, type, full, meta ) {
								switch(data){									
									case 'BJP':
										return "<img src='BJP.png' height='20px'/> "+data;
									case 'INC':
										return "<img src='INC.png' height='20px'/> "+data; 
									case 'JD(S)':
										return "<img src='JDS.png' height='20px'/> "+data;
									default:
										return "<img src='Others.png' height='20px'/> "+data;										
								}								
				}
			  } ]			
				
				
				
				
				
				
				
				
			} );//datatable
			
			
			$('#results_table').on( 'search.dt', function () {

			} );
			
		} );

		
		
		
	</script>
</head>
<body>
<div class="container">
<div id="map"></div>

<div class="table-responsive">
	<table id="results_table" class="display table table-striped table-bordered table-condensed"  cellspacing="0">
			<thead>
				<tr>
					<tr>
						<th colspan="4">Ward Details</th>
						<th colspan="3">Turnout</th>
						<th colspan="4">Winner</th>
					</tr>
					<tr>
						<th>Ward No</th>
						<th>Ward</th>
						<th>Reservation</th>
						<th>Woman</th>

						<th>Voters</th>					
						<th>Voters Casted </th>
						<th>Turnout</th>

						<th>Winning Candidate</th>
						<th>Gender</th>
						<th>Winning Party</th>
						<th>Winning Votes</th>
					</tr>
				</tr>
			</thead>
	 
			<tfoot>
				<tr>
					<th>Ward No</th>
					<th>Ward</th>
					<th>Reservation</th>
					<th>Woman</th>

					<th>Voters</th>
					<th>Voters Casted </th>
					<th>Turnout</th>
					
					<th>Winning Candidate</th>
					<th>Gender</th>
					<th>Winning Party</th>
					<th>Winning Votes</th>
				</tr>
			</tfoot>
		</table>
	</div> <!-- table responsive -->
	</div> <!-- container -->
</body>
</html>